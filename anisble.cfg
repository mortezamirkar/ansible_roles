[defaults]
# Set the default inventory file
inventory = hosts.yml

# Set the default roles path
roles_path = ./roles

# Enable persistent connections to improve performance
pipelining = True
persistent_connection_timeout = 30

# Disable host key checking to avoid host key verification failures
host_key_checking = False

# Control the verbosity of output logs
log_path = /var/log/ansible.log

# Retry files are disabled by default
retry_files_enabled = False

# Use a specific interpreter for Python (useful for systems with multiple Python versions)
interpreter_python = auto_silent

[privilege_escalation]
# Use sudo to become root
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# Set the SSH timeout to avoid long waits
timeout = 30

# Define control path for SSH connections
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

# Use ControlPersist to reuse SSH connections
control_persist = 60s

# Enable compression to improve transfer speeds
compression = yes

# Set a limit on the number of SSH retries
retries = 3

[inventory]
# Enable caching for the inventory to improve performance
cache = True
cache_plugin = jsonfile
cache_timeout = 7200
cache_connection = /tmp/ansible_cache

[diff]
# Show differences when running playbooks
always = True

[callback]
# Enable detailed task timing output
profile_tasks = True
